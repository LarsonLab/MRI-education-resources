
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Magnetic fields in MRI &#8212; Principles of MRI</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-51903906-1"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'UA-51903906-1');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'UA-51903906-1');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Magnetic Fields in MRI';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="The Pulse Sequence" href="Pulse%20Sequence.html" />
    <link rel="prev" title="The MRI System" href="MRI%20System.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="Introduction.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/MRI_logo-retro.png" class="logo__image only-light" alt="Principles of MRI - Home"/>
    <script>document.write(`<img src="_static/MRI_logo-retro.png" class="logo__image only-dark" alt="Principles of MRI - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="Introduction.html">
                    Introduction to Principles of MRI
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Magnetic Resonance Physics</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Spin%20Physics.html">Spin Physics</a></li>
<li class="toctree-l1"><a class="reference internal" href="Bloch%20Equation.html">Bloch Equation</a></li>
<li class="toctree-l1"><a class="reference internal" href="In%20Vivo%20Spin%20Physics.html">In Vivo Spin Physics</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">MRI System</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="MRI%20System.html">The MRI System</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Magnetic fields in MRI</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">MRI Experiment</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Pulse%20Sequence.html">The Pulse Sequence</a></li>
<li class="toctree-l1"><a class="reference internal" href="MRI%20Signal%20Equation.html">The MRI Signal Equation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Contrast</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Basic%20Contrast%20Mechanisms.html">Basic Contrast Mechanisms</a></li>
<li class="toctree-l1"><a class="reference internal" href="In%20Vivo%20Contrast%20Mechanisms.html">In Vivo Contrast Mechanisms</a></li>
<li class="toctree-l1"><a class="reference internal" href="Gradient%20and%20Spin%20Echoes.html">Gradient and Spin Echo Pulse Sequences</a></li>
<li class="toctree-l1"><a class="reference internal" href="Image%20Contrast%20Examples.html">Image Contrast Examples</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Radiofrequency Pulses</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="RF%20Pulses.html">RF Pulses</a></li>
<li class="toctree-l1"><a class="reference internal" href="Slice%20Selection.html">Slice Selection</a></li>
<li class="toctree-l1"><a class="reference internal" href="RF%20Pulse%20Design.html">RF Pulse Design</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Image Formation</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Spatial%20Encoding.html">Spatial Encoding</a></li>
<li class="toctree-l1"><a class="reference internal" href="K-space.html">K-space</a></li>
<li class="toctree-l1"><a class="reference internal" href="Image%20Reconstruction.html">Image Reconstruction</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Image Characteristics</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="FOV%20and%20Resolution.html">Field of View (FOV) and Resolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="Signal%20to%20Noise%20Ratio.html">Scan Time and Signal to Noise Ratio (SNR)</a></li>
<li class="toctree-l1"><a class="reference internal" href="Cartesian%20Image%20Characteristics.html">Cartesian Sampling Image Characteristics</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Fast Imaging Methods</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Volumetric%20Imaging.html">Volumetric Imaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="Fast%20Imaging%20Pulse%20Sequences.html">Fast Imaging Pulse Sequences</a></li>
<li class="toctree-l1"><a class="reference internal" href="Accelerated%20Imaging%20Methods.html">Accelerated Imaging Methods</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Imperfections and Artifacts</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Point%20Spread%20Function%20Analysis.html">Point Spread Function Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="Artifacts.html">Artifacts</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Summary</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Key%20MRI%20Concepts.html">Key MRI Concepts and Equations</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Reference Material</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="MRI%20Notation.html">MRI Notation and Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="MRI%20Math%20Concepts.html">MRI Math Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="Software_Resources.html">MRI Software Resources</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Advanced and Fun Topics</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Excitation%20K-space.html">Excitation K-space and Multidimensional RF Pulses</a></li>
<li class="toctree-l1"><a class="reference internal" href="Spectral-Spatial%20RF%20Pulses.html">Spectral-Spatial RF Pulses</a></li>
<li class="toctree-l1"><a class="reference internal" href="Fun%20with%20RF%20Pulses.html">Fun with RF Pulses?</a></li>
<li class="toctree-l1"><a class="reference internal" href="Advanced%20SNR.html">Advanced SNR</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/larsonlab/MRI-education-resources" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/larsonlab/MRI-education-resources/issues/new?title=Issue%20on%20page%20%2FMagnetic Fields in MRI.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Magnetic Fields in MRI.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Magnetic fields in MRI</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#learning-goals">Learning Goals</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary-of-magnetic-fields">Summary of Magnetic Fields</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#loop-currents-and-magnetic-fields">Loop currents and magnetic fields</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#main-magnet-b-0">Main Magnet - <span class="math notranslate nohighlight">\(B_0\)</span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#magnetic-field-gradient-coils-vec-g-t">Magnetic field gradient coils - <span class="math notranslate nohighlight">\(\vec{G}(t)\)</span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#radiofrequency-rf-coils-b-1-vec-r-t-b-1-vec-r-t">Radiofrequency (RF) coils - <span class="math notranslate nohighlight">\(B_1^+(\vec{r},t), B_1^-(\vec{r},t)\)</span></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#transmit-tx-system-for-excitation-b-1-vec-r-t">Transmit (Tx) system for excitation - <span class="math notranslate nohighlight">\(B_1^+(\vec{r},t)\)</span></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#receive-rx-system-for-reception-b-1-vec-r-t">Receive (Rx) system for reception - <span class="math notranslate nohighlight">\(B_1^-(\vec{r},t)\)</span></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-transmit-rf-fields">Creating Transmit RF fields</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#receiving-magnetic-resonance-signal">Receiving Magnetic Resonance Signal</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reciprocity">Reciprocity</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rf-coils">RF Coils</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#transmit-tx-rf-coils">Transmit (Tx) RF coils</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#receive-rx-rf-coils">Receive (Rx) RF coils</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rf-coil-profiles">RF Coil Profiles</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#receive-elements">Receive elements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sensitivity-simulation">Sensitivity Simulation</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="magnetic-fields-in-mri">
<h1>Magnetic fields in MRI<a class="headerlink" href="#magnetic-fields-in-mri" title="Link to this heading">#</a></h1>
<p>The magnetic fields created and manipulated during a MRI experiment critically determine the entire MRI experiment.  We will provide some background on creating and detecting magnetic fields, and then describe the magnetic fields present in MRI systems.</p>
<section id="learning-goals">
<h2>Learning Goals<a class="headerlink" href="#learning-goals" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Describe the 4 fundmanetal components of a MRI scan and why they are necessary</p>
<ul class="simple">
<li><p>Define the magnetic fields created by various components</p></li>
<li><p>Describe the purpose of each magnetic field created</p></li>
</ul>
</li>
<li><p>Understand what MRI is measuring</p>
<ul class="simple">
<li><p>Describe how RF coils receive MRI signal</p></li>
</ul>
</li>
</ol>
</section>
<section id="summary-of-magnetic-fields">
<h2>Summary of Magnetic Fields<a class="headerlink" href="#summary-of-magnetic-fields" title="Link to this heading">#</a></h2>
<p>Each of the main components of a MRI system creates magnetic fields, but with different orientations, magnitudes, and frequencies, which are summarized in the following table</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Component</p></th>
<th class="head"><p>Notation</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Frequency</p></th>
<th class="head"><p>Strength</p></th>
<th class="head"><p>Purpose</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Main Field</p></td>
<td><p><span class="math notranslate nohighlight">\(B_0\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(z\)</span></p></td>
<td><p>0 Hz</p></td>
<td><p><span class="math notranslate nohighlight">\(\approx 1\)</span> T</p></td>
<td><p>Polarization</p></td>
</tr>
<tr class="row-odd"><td><p>Main Field Inhomogeneities</p></td>
<td><p><span class="math notranslate nohighlight">\(\Delta B_0(\vec{r})\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(z\)</span></p></td>
<td><p>0 Hz</p></td>
<td><p><span class="math notranslate nohighlight">\(\approx 1-10\)</span> ppm</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-even"><td><p>Magnetic Field Gradients</p></td>
<td><p><span class="math notranslate nohighlight">\(\vec G(t)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(z\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\approx 1\)</span> kHz</p></td>
<td><p><span class="math notranslate nohighlight">\(\approx 10\)</span> mT</p></td>
<td><p>Spatial Encoding</p></td>
</tr>
<tr class="row-odd"><td><p>Transmit RF Coils</p></td>
<td><p><span class="math notranslate nohighlight">\(B_1^+(\vec{r},t)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(x,y\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\approx 100\)</span> MHz</p></td>
<td><p><span class="math notranslate nohighlight">\(\approx 10 \mu T\)</span></p></td>
<td><p>Excitation</p></td>
</tr>
<tr class="row-even"><td><p>Receive RF Coils</p></td>
<td><p><span class="math notranslate nohighlight">\(B_1^-(\vec{r},t)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(x,y\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\approx 100\)</span> MHz</p></td>
<td><p><span class="math notranslate nohighlight">\(\approx 1 \mu T\)</span></p></td>
<td><p>Reception</p></td>
</tr>
<tr class="row-odd"><td><p>Net Magnetization</p></td>
<td><p><span class="math notranslate nohighlight">\(\vec{M}(\vec{r},t)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(z,y,z\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(\approx 100\)</span> MHz</p></td>
<td><p><span class="math notranslate nohighlight">\(\approx 1 \mu \mathrm{T}\)</span></p></td>
<td><p>Signal Source</p></td>
</tr>
</tbody>
</table>
</div>
<p>Also included is the Net Magnetization, <span class="math notranslate nohighlight">\(\vec{M}(\vec{r},t)\)</span>, which is the magnetic fields created from nuclear spins that we measure in MRI.</p>
</section>
<section id="loop-currents-and-magnetic-fields">
<h2>Loop currents and magnetic fields<a class="headerlink" href="#loop-currents-and-magnetic-fields" title="Link to this heading">#</a></h2>
<p>Magnetic fields, <span class="math notranslate nohighlight">\(\vec{B}\)</span>, can be created by current, <span class="math notranslate nohighlight">\(I\)</span>, through loop of wire, governed by the principles of electromagnetism in Maxwell’s equations.  The the “left-hand rule” determines the direction of the magnetic field.</p>
<p><img alt="loop%20small%20current.png" src="_images/loop_small_current.png" /></p>
<p>By increasing the current, the magnetic field is increased</p>
<p><img alt="loop%20big%20current.png" src="_images/loop_big_current.png" /></p>
<p>We can also link many loops together (a “solenoid”) to increase the extent of the magnetic field.</p>
<p><img alt="solenoid%20small%20current.png" src="_images/solenoid_small_current.png" /></p>
<p>A solenoid design is typically used to create the main magnetic field for MRI, <span class="math notranslate nohighlight">\(B_0\)</span>, to create a large region in space with a homogeneous magnetic field, as required for MRI across a volume.</p>
</section>
<section id="main-magnet-b-0">
<h2>Main Magnet - <span class="math notranslate nohighlight">\(B_0\)</span><a class="headerlink" href="#main-magnet-b-0" title="Link to this heading">#</a></h2>
<p>The main magnetic field is created with solenoid coils, shown above, that can provide a large region in space where there is large, homogeneous magnetic field.<br />
The large magnetic field is required to create stronger polarization.
The large region is space determines where we can create an image.
And having a homogeneous magnet ensures there are no image distortion artifacts.</p>
<p>This magnet creates magnetic fields of usually 1.5 or 3 T, by convention oriented in the z-direction, and this field is always on during the scan.  Mathematically, we can add this to our magnetic field vector:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\vec{B}(\vec{r},t) = 
\begin{bmatrix}
0 \\
0 \\
B_0 
\end{bmatrix}\end{split}\]</div>
<p>(Note that this magnetic field is never perfect, and this is captured by the main field inhomogeneities, <span class="math notranslate nohighlight">\(\Delta B_0(\vec r)\)</span> in the table above, we’ll add that in later.)</p>
</section>
<section id="magnetic-field-gradient-coils-vec-g-t">
<h2>Magnetic field gradient coils - <span class="math notranslate nohighlight">\(\vec{G}(t)\)</span><a class="headerlink" href="#magnetic-field-gradient-coils-vec-g-t" title="Link to this heading">#</a></h2>
<p>The magnetic field gradient coils are designed to add and subtract from the main magnetic field.  In this way, they create a spatially varying magnetic field.  Since the frequency of magnetic resonance is proportional to the magnetic field, this means that when the gradients are on the resonance frequency varies as function of position.  This gives us a way to separate signals from different regions based on resonance frequency, and create images.</p>
<p>The gradient coil fields have a maximum amplitude of around 50 mT/m = 0.05 T/m, aligned with <span class="math notranslate nohighlight">\(B_0\)</span> in the z-direction, and this field is switched on and off during MRI experiments.  The gradients are typically varied every few ms, with minimum switching times around 0.1 ms.  Mathematically, we can add this to our magnetic field vector:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\vec{B}(\vec{r},t) = 
\begin{bmatrix}
0 \\
0 \\
B_0 + \vec{G}(t) \cdot \vec{r}
\end{bmatrix}\end{split}\]</div>
<p>Where the gradients creates linear changes in the z-component of the magnetic field, <span class="math notranslate nohighlight">\(B_Z\)</span>, across space.</p>
</section>
<section id="radiofrequency-rf-coils-b-1-vec-r-t-b-1-vec-r-t">
<h2>Radiofrequency (RF) coils - <span class="math notranslate nohighlight">\(B_1^+(\vec{r},t), B_1^-(\vec{r},t)\)</span><a class="headerlink" href="#radiofrequency-rf-coils-b-1-vec-r-t-b-1-vec-r-t" title="Link to this heading">#</a></h2>
<p>The purpose of the RF coils and RF systems are</p>
<ol class="arabic simple">
<li><p>Excitation – perturb the net magnetization from equilibrium by creating magnetic fields at the resonance frequency</p></li>
<li><p>Reception – after excitation, the precessing net magnetization creates magnetic fields at the resonance frequency</p></li>
</ol>
<p>These are called RF coils since the resonance frequencies for MRI, typically around 100 MHz, is in the so-called radio-frequency (RF) range.  Their amplitude is much smaller than the other magnetic fields, typically in the 10 <span class="math notranslate nohighlight">\(\mu\)</span>T = .00001 T range.  The magnetic fields created by the RF coils are oriented perpedicularly to the main magnetic field, and thus are in the transverse (XY) plane.  Mathematically, we add this final magnetic field as</p>
<div class="math notranslate nohighlight">
\[\begin{split}\vec{B}(\vec{r},t) = 
\begin{bmatrix}
B_{1,X}^+(\vec{r},t) \cos(2\pi\bar{\gamma} B_0 t) \\
B_{1,Y}^+(\vec{r},t) \sin(2\pi\bar{\gamma} B_0 t) \\
B_0 + \vec{G}(t) \cdot \vec{r}
\end{bmatrix}\end{split}\]</div>
<p>Note that the sin/cos in the magnetic field represent a rotation of the RF field at the Larmor frequency, <span class="math notranslate nohighlight">\(f_0 = \bar{\gamma} B_0\)</span>.</p>
<p>The RF system is divided up into transmit and receive paths.  All components are tuned to Larmor frequency, meaning they are most sensitive to transmitting or receiving signals at this frequency.  Reactive components (capacitors and inductors) are used for tuning to the correct frequency.</p>
<section id="transmit-tx-system-for-excitation-b-1-vec-r-t">
<h3>Transmit (Tx) system for excitation - <span class="math notranslate nohighlight">\(B_1^+(\vec{r},t)\)</span><a class="headerlink" href="#transmit-tx-system-for-excitation-b-1-vec-r-t" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Transmit high power (10s of kW) RF signals</p></li>
<li><p>Key requirement is homogeneity, i.e. same magnetic field that creates the same flip angle across imaging FOV</p></li>
<li><p>Usually a single larger, coil surrounding entire FOV</p></li>
</ul>
</section>
<section id="receive-rx-system-for-reception-b-1-vec-r-t">
<h3>Receive (Rx) system for reception - <span class="math notranslate nohighlight">\(B_1^-(\vec{r},t)\)</span><a class="headerlink" href="#receive-rx-system-for-reception-b-1-vec-r-t" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Receive small signals (mV) arising from body</p></li>
<li><p>Key requirement is high sensitivity to detect small signals with the least noise</p></li>
<li><p>Usually an array of smaller coil elements (also known as channels), placed around the body</p></li>
</ul>
</section>
<section id="creating-transmit-rf-fields">
<h3>Creating Transmit RF fields<a class="headerlink" href="#creating-transmit-rf-fields" title="Link to this heading">#</a></h3>
<p>To create transmit RF fields, we simply put an oscillating electric current into a loop of wire, which is simulated below.  When this is performed at the Larmor frequency, this creates RF excitation.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="n">R</span> <span class="o">=</span> <span class="mf">0.1</span>  <span class="c1"># coil radius [m]</span>
<span class="n">I0</span> <span class="o">=</span> <span class="mf">0.1</span>  <span class="c1"># current amplitude [amps]</span>
<span class="n">mu0</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="mf">1e-7</span>  <span class="c1"># T⋅m/A</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">401</span><span class="p">)</span>
<span class="n">I</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">t</span><span class="p">)</span> <span class="o">*</span> <span class="n">I0</span>

<span class="n">BZ</span> <span class="o">=</span> <span class="n">mu0</span> <span class="o">*</span> <span class="n">I</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">R</span><span class="p">)</span>  <span class="c1"># magnetic field at the center of a single loop</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">211</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">I</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;I (A)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Current in a single loop coil of radius </span><span class="si">{</span><span class="n">R</span><span class="si">}</span><span class="s1"> [m]&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">212</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">BZ</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;$B_Z$ (T)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Magnetic field at center of the coil&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/7b25947e2561eb84aa3952785a6a8cc26cbbdadceb41cbfdcee0bb1d0f75d11d.png" src="_images/7b25947e2561eb84aa3952785a6a8cc26cbbdadceb41cbfdcee0bb1d0f75d11d.png" />
</div>
</div>
</section>
<section id="receiving-magnetic-resonance-signal">
<h3>Receiving Magnetic Resonance Signal<a class="headerlink" href="#receiving-magnetic-resonance-signal" title="Link to this heading">#</a></h3>
<p>Magnetic resonsance signal is received by the following sequence of events</p>
<ol class="arabic simple">
<li><p>Spins and the net magnetization, <span class="math notranslate nohighlight">\(\vec{M}\)</span>, in a magnetic field will precess at the Larmor frequency, which depends on the gyromagnetic ratio and main magnetic field: <span class="math notranslate nohighlight">\(f_0 = \bar{\gamma} B_0\)</span></p></li>
<li><p>This precession creates oscillating magnetic fields at this same (Larmor) frequency.</p></li>
<li><p>Oscillating magnetic fields will create oscillating current in loops of wire, which can be detected by amplifying and digitizing this signal</p></li>
</ol>
<p><img alt="RF%20reception.gif" src="_images/RF_reception.gif" /></p>
</section>
<section id="reciprocity">
<h3>Reciprocity<a class="headerlink" href="#reciprocity" title="Link to this heading">#</a></h3>
<p>The principle of reciprocity in electromagnetism tells us that the same relationships govern creating magnetic fields from oscillating currents and creating electric currents from oscillating magnetic fields.  So far we have discussed that an oscillating current in a loop of wire will create an oscillating magnetic field, which describes the transmit RF process.  So, reciprocity says that an oscillating magnetic field will create a current in a loop of wire.  This describe the receive RF process, as shown above.</p>
</section>
</section>
<section id="rf-coils">
<h2>RF Coils<a class="headerlink" href="#rf-coils" title="Link to this heading">#</a></h2>
<section id="transmit-tx-rf-coils">
<h3>Transmit (Tx) RF coils<a class="headerlink" href="#transmit-tx-rf-coils" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Typically performed with “BODY” coil</p></li>
<li><p>Birdcage design</p></li>
<li><p>Provides homogeneous magnetic field amplitude</p></li>
<li><p>Creates magnetic fields perpendicular to B0</p></li>
</ul>
<p>In MRI we denote transmitted magnetic fields from RF energy as</p>
<div class="math notranslate nohighlight">
\[B_1^+(\vec{r},t)\]</div>
<p>This field is typically in units of millitesla (mT) and can vary over space, <span class="math notranslate nohighlight">\(\vec{r}\)</span> and time, <span class="math notranslate nohighlight">\(t\)</span></p>
<p><img alt="BODY coil" src="_images/BODY_coil.png" /></p>
</section>
<section id="receive-rx-rf-coils">
<h3>Receive (Rx) RF coils<a class="headerlink" href="#receive-rx-rf-coils" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Tailored to the anatomy of interest, e.g. knee coils, abdomen coils, head coils</p></li>
<li><p>Configured in arrays (or “phased arrays”)</p></li>
<li><p>Between 8 to 64 individual coil elements (also known as channels) in a array coil is common</p></li>
<li><p>Elements should be relatively isolated and decoupled to not interfere with each other</p></li>
<li><p>Tuned to the Larmor frequency when receiving signals</p></li>
<li><p>Detuned (turned off) when transmit RF is active so they don’t interfere</p></li>
<li><p><em>Goal is to provide high sensitivity to receive MR signals by placing them as close as possible to the body</em></p></li>
</ul>
<p>In MRI we denote senitivity profile to varying magnetic fields of the RF receiver coils as</p>
<div class="math notranslate nohighlight">
\[B_{1,n}^-(\vec{r},t)\]</div>
<p>This sensitivity is typically in units of millitesla/Amp (mT/A) and can vary over space, <span class="math notranslate nohighlight">\(\vec{r}\)</span>, time, <span class="math notranslate nohighlight">\(t\)</span>, and coil element, <span class="math notranslate nohighlight">\(n\)</span>, in the array coil.</p>
<p><img alt="Receive array" src="_images/TIM_receive_array.png" /></p>
</section>
</section>
<section id="rf-coil-profiles">
<h2>RF Coil Profiles<a class="headerlink" href="#rf-coil-profiles" title="Link to this heading">#</a></h2>
<section id="receive-elements">
<h3>Receive elements<a class="headerlink" href="#receive-elements" title="Link to this heading">#</a></h3>
<p>Coil elements are most sensitive to signals originating near the element, and the so-called sensitivity off as we move away from the coil.  The following images show that each element is most sensitive, or has the brightest image, closest to that element:</p>
<p><img alt="Spine Array" src="_images/SpineArray.png" /></p>
</section>
<section id="sensitivity-simulation">
<h3>Sensitivity Simulation<a class="headerlink" href="#sensitivity-simulation" title="Link to this heading">#</a></h3>
<p>The following simulates the sensitivity profile of a single loop RF coil varying over space, using the Biot-Savart law from electromagnetism.  In the following plots, the magnetic field vector, <span class="math notranslate nohighlight">\(\vec{B}(\vec{r}) = [B_X(\vec{r}), B_Y(\vec{r}), B_Z(\vec{r})]\)</span>, that is created by the coil is plotted, as well as the magnetic field amplitude, <span class="math notranslate nohighlight">\(\|\vec{B}(\vec{r})\|\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>

<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;../Physics/&#39;</span><span class="p">)</span>  
<span class="c1"># Import the script as a module</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">loop_coil_field</span><span class="w"> </span><span class="kn">import</span> <span class="n">loop_coil_field</span>

<span class="n">R</span> <span class="o">=</span> <span class="mi">12</span>  <span class="c1"># coil radius, cm</span>
<span class="n">I</span> <span class="o">=</span> <span class="mi">3</span>  <span class="c1"># current in the coil</span>
<span class="n">flag_2d</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># just plot 2D profile</span>


<span class="n">BX</span><span class="p">,</span> <span class="n">BY</span><span class="p">,</span> <span class="n">BZ</span><span class="p">,</span> <span class="n">xp</span><span class="p">,</span> <span class="n">yp</span><span class="p">,</span> <span class="n">zp</span> <span class="o">=</span> <span class="n">loop_coil_field</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">I</span><span class="p">,</span> <span class="n">flag_2d</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/206debd2bf7fc862bbc3e83965696cd044987cfc984bb5c167511198c829ae7c.png" src="_images/206debd2bf7fc862bbc3e83965696cd044987cfc984bb5c167511198c829ae7c.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="n">skip_index</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c1"># skip every 2nd point for plotting</span>

<span class="n">plt</span><span class="o">.</span><span class="n">quiver</span><span class="p">(</span><span class="n">xp</span><span class="p">[::</span><span class="n">skip_index</span><span class="p">],</span> <span class="n">yp</span><span class="p">[::</span><span class="n">skip_index</span><span class="p">],</span> <span class="n">BX</span><span class="p">[::</span><span class="n">skip_index</span><span class="p">,</span> <span class="p">::</span><span class="n">skip_index</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">BY</span><span class="p">[::</span><span class="n">skip_index</span><span class="p">,</span> <span class="p">::</span><span class="n">skip_index</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">scale</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="o">-</span><span class="mi">18</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="o">-</span><span class="mi">18</span><span class="p">,</span> <span class="mi">18</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;x position (cm)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;y position (cm)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Magnetic field as a vector field&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/fb12d4cab3d02c0f549cb6f3efbea0787240a42f28a1f74024dee15c2fe3c615.png" src="_images/fb12d4cab3d02c0f549cb6f3efbea0787240a42f28a1f74024dee15c2fe3c615.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="n">Bmag</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">BX</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">BY</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">BZ</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="n">xhalf</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">xp</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">Bmag</span><span class="p">[:</span><span class="n">xhalf</span><span class="p">,</span> <span class="p">:],</span> <span class="n">extent</span><span class="o">=</span><span class="p">[</span><span class="n">yp</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">yp</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">xp</span><span class="p">[:</span><span class="n">xhalf</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">xp</span><span class="p">[:</span><span class="n">xhalf</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()],</span> <span class="n">aspect</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;position (cm)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;position (cm)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;Magnetic Field Magnitude&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;One-sided $B_1$ sensitivity profile (coil located at bottom of the image)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/ec24702d0c9264b187542ec6df0da93d9e33654644b9c7d049b05a45cb44cb1d.png" src="_images/ec24702d0c9264b187542ec6df0da93d9e33654644b9c7d049b05a45cb44cb1d.png" />
</div>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="MRI%20System.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">The MRI System</p>
      </div>
    </a>
    <a class="right-next"
       href="Pulse%20Sequence.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">The Pulse Sequence</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#learning-goals">Learning Goals</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary-of-magnetic-fields">Summary of Magnetic Fields</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#loop-currents-and-magnetic-fields">Loop currents and magnetic fields</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#main-magnet-b-0">Main Magnet - <span class="math notranslate nohighlight">\(B_0\)</span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#magnetic-field-gradient-coils-vec-g-t">Magnetic field gradient coils - <span class="math notranslate nohighlight">\(\vec{G}(t)\)</span></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#radiofrequency-rf-coils-b-1-vec-r-t-b-1-vec-r-t">Radiofrequency (RF) coils - <span class="math notranslate nohighlight">\(B_1^+(\vec{r},t), B_1^-(\vec{r},t)\)</span></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#transmit-tx-system-for-excitation-b-1-vec-r-t">Transmit (Tx) system for excitation - <span class="math notranslate nohighlight">\(B_1^+(\vec{r},t)\)</span></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#receive-rx-system-for-reception-b-1-vec-r-t">Receive (Rx) system for reception - <span class="math notranslate nohighlight">\(B_1^-(\vec{r},t)\)</span></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-transmit-rf-fields">Creating Transmit RF fields</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#receiving-magnetic-resonance-signal">Receiving Magnetic Resonance Signal</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reciprocity">Reciprocity</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rf-coils">RF Coils</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#transmit-tx-rf-coils">Transmit (Tx) RF coils</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#receive-rx-rf-coils">Receive (Rx) RF coils</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rf-coil-profiles">RF Coil Profiles</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#receive-elements">Receive elements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sensitivity-simulation">Sensitivity Simulation</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Peder Larson
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2025.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  Citation - DOI <a href="https://doi.org/10.5281/zenodo.5547020">10.5281/zenodo.5547020</a>
</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>